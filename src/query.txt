CREATE TABLE inventory_details (
    s_id INT NOT NULL,
    p_id INT NOT NULL,
    category VARCHAR(50) NOT NULL,
    region VARCHAR(10), 
    seasonality VARCHAR(10),
    vt_start TIMESTAMP NOT NULL,
    vt_end TIMESTAMP NOT NULL DEFAULT 'infinity',
    tt_start TIMESTAMP NOT NULL DEFAULT NOW(),
    tt_end TIMESTAMP NOT NULL DEFAULT 'infinity',
    PRIMARY KEY(s_id, p_id)
);

CREATE TABLE inventory_sales (
    s_id INT NOT NULL,
    p_id INT NOT NULL,
    amount INT NOT NULL,
    units_sold INT NOT NULL DEFAULT 0, 
    units_ordered INT NOT NULL DEFAULT 0,
    price FLOAT NOT NULL,
    discount INT NOT NULL DEFAULT 0,
    vt_start TIMESTAMP NOT NULL,
    vt_end TIMESTAMP NOT NULL DEFAULT 'infinity',
    tt_start TIMESTAMP NOT NULL DEFAULT NOW(),
    tt_end TIMESTAMP NOT NULL DEFAULT 'infinity'
    PRIMARY KEY(s_id, p_id),
    FOREIGN KEY (s_id, p_id) REFERENCES inventory_details(s_id, p_id) ON UPDATE CASCADE ON DELETE CASCADE
);